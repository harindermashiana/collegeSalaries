# Data

## Description

## Missing value analysis

```{r}
library(tidyverse)
file1 <- read.csv("data/degrees-that-pay-back.csv")
file2 <- read.csv("data/salaries-by-college-type.csv")
file3 <- read.csv("data/salaries-by-region.csv")

# Assuming your data frame is named df
# Replace "N/A" with NA in the entire data frame
file1 <- file1 %>% mutate_all(~ ifelse(. == "N/A", NA, .))
file2 <- file2 %>% mutate_all(~ ifelse(. == "N/A", NA, .))
file3 <- file3 %>% mutate_all(~ ifelse(. == "N/A", NA, .))

missing_percentage_file1 <- colMeans(is.na(file1)) * 100
missing_percentage_file2 <- colMeans(is.na(file2)) * 100
missing_percentage_file3 <- colMeans(is.na(file3)) * 100

df_file1 <- data.frame(Column = names(file1), Missing_Percentage = missing_percentage_file1)
df_file2 <- data.frame(Column = names(file2), Missing_Percentage = missing_percentage_file2)
df_file3 <- data.frame(Column = names(file3), Missing_Percentage = missing_percentage_file3)

combined_df <- bind_rows(
  mutate(df_file1, File = "File 1"),
  mutate(df_file2, File = "File 2"),
  mutate(df_file3, File = "File 3")
)

ggplot(combined_df, aes(x = Column, y = Missing_Percentage, fill = File)) +
  geom_bar(stat = "identity", position = "dodge") +
  labs(title = "Percentage of Missing Values in Each Column",
       x = "Column",
       y = "Missing Percentage") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

```

```{r}
# Install required packages
# Install and load necessary packages
#install.packages(c("tidyverse", "viridis"))
library(tidyverse)
library(viridis)
library(reshape2)
# Define function to load CSV files with 'N/A' as missing values
df1 <- read.csv("data/salaries-by-college-type.csv", na.strings = "N/A")
df2 <- read.csv("data/salaries-by-region.csv", na.strings = "N/A")

# Function to plot missing values
plot_missing_values <- function(df, title) {
  df %>%
    is.na() %>%
    melt() %>%
    ggplot(aes(x = Var2, y = Var1, fill = factor(value, labels = c("Present", "Missing")))) +
    geom_tile(color = "white") +
    scale_fill_manual(values = c("Present" = "Green", "Missing" = "Red")) +
    labs(title = title, x = "Columns", y = "Rows") +
    theme_minimal() +
    theme(axis.text.x = element_text(angle = 45, hjust = 1))+
    guides(fill = guide_legend(title = "Values"))
}

# Plot missing values for each column in the first CSV file
plot_missing_values(df1, "Missing Values in File 1")

# Plot missing values for each column in the second CSV file
plot_missing_values(df2, "Missing Values in File 2")
```

We observe that data is missing from same rows for two columns.
